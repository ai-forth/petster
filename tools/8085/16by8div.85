

From: candybc@primenet.com
Subject: Re: 16-bit division routine for 8085's?
Date: 14 Jul 1995 01:39:25 GMT

In <3tuc4a$1eg4@news.doit.wisc.edu>, waldrop@cae.wisc.edu (Fred Alphaguy)
writes:
>I am looking for a subroutine (in 8085 machine code) to divide a 16-bit
>number by an 8-bit number and return both the answer and the remainder
>as 8-bit numbers.  I have looked through several code archives and was
>not able to locate what I needed.  If you have any suggestions for
>archives, books, FTP sites, web-pages, etc. I would be very
>appreciative.
>                                    Thanks in Advance, 
>                                         Jeremy Waldrop
>                                         waldrop@cae.wisc.edu

Sounds more like a homework assignment.  A simple divide algorithem
can be found in almost any machine language text book.  If you can't
find the exact code for the 8085 you can use 8080 code, or find an
example in Z80 or 6800 that should be easy enough to understand
the alorithm for conversion purposes.

From 8080A - 8085 Assembly Language Programming by Lance A. Leventhal
Osborne/McGraw-Hill, Berkeley, CA  Copyright 1978:

16 bit dividend at location 40H  LSB first!
 8 bit divisor at location 42H
quotient stored at location 43H
remainder stored at location 44H


	LHLD	40H	;get dividend
	LDA	42H	;get divisor
	MOV	C,A           
	MVI	B,8	;count = 8
DIV:	DAD	H	;shift dividend, quotient
	MOV	A,H	;is most sig. part of dividend > or = divisor?
	SUB	C
	JC	CNT	;no, go to next step
	MOV	H,A	;yes, subtract divisor
	INR	L	;and add 1 to quotient
CNT:	DCR	B
	JNZ	DIV
	SHLD	43H	;store quotient, remainder
HERE:	JMP	HERE  

Now if you were trying to cheat on your homework... Don't you feel bad?


